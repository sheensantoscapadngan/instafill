{"ast":null,"code":"import { assertIs, error } from \"../utils\";\nexport var RotationTypes;\n\n(function (RotationTypes) {\n  RotationTypes[\"Degrees\"] = \"degrees\";\n  RotationTypes[\"Radians\"] = \"radians\";\n})(RotationTypes || (RotationTypes = {}));\n\nexport var radians = function (radianAngle) {\n  assertIs(radianAngle, 'radianAngle', ['number']);\n  return {\n    type: RotationTypes.Radians,\n    angle: radianAngle\n  };\n};\nexport var degrees = function (degreeAngle) {\n  assertIs(degreeAngle, 'degreeAngle', ['number']);\n  return {\n    type: RotationTypes.Degrees,\n    angle: degreeAngle\n  };\n};\nvar Radians = RotationTypes.Radians,\n    Degrees = RotationTypes.Degrees;\nexport var degreesToRadians = function (degree) {\n  return degree * Math.PI / 180;\n};\nexport var radiansToDegrees = function (radian) {\n  return radian * 180 / Math.PI;\n}; // prettier-ignore\n\nexport var toRadians = function (rotation) {\n  return rotation.type === Radians ? rotation.angle : rotation.type === Degrees ? degreesToRadians(rotation.angle) : error(\"Invalid rotation: \" + JSON.stringify(rotation));\n}; // prettier-ignore\n\nexport var toDegrees = function (rotation) {\n  return rotation.type === Radians ? radiansToDegrees(rotation.angle) : rotation.type === Degrees ? rotation.angle : error(\"Invalid rotation: \" + JSON.stringify(rotation));\n};\nexport var reduceRotation = function (degreeAngle) {\n  if (degreeAngle === void 0) {\n    degreeAngle = 0;\n  }\n\n  var quadrants = degreeAngle / 90 % 4;\n  if (quadrants === 0) return 0;\n  if (quadrants === 1) return 90;\n  if (quadrants === 2) return 180;\n  if (quadrants === 3) return 270;\n  return 0; // `degreeAngle` is not a multiple of 90\n};\nexport var adjustDimsForRotation = function (dims, degreeAngle) {\n  if (degreeAngle === void 0) {\n    degreeAngle = 0;\n  }\n\n  var rotation = reduceRotation(degreeAngle);\n  return rotation === 90 || rotation === 270 ? {\n    width: dims.height,\n    height: dims.width\n  } : {\n    width: dims.width,\n    height: dims.height\n  };\n};\nexport var rotateRectangle = function (rectangle, borderWidth, degreeAngle) {\n  if (borderWidth === void 0) {\n    borderWidth = 0;\n  }\n\n  if (degreeAngle === void 0) {\n    degreeAngle = 0;\n  }\n\n  var x = rectangle.x,\n      y = rectangle.y,\n      w = rectangle.width,\n      h = rectangle.height;\n  var r = reduceRotation(degreeAngle);\n  var b = borderWidth / 2; // prettier-ignore\n\n  if (r === 0) return {\n    x: x - b,\n    y: y - b,\n    width: w,\n    height: h\n  };else if (r === 90) return {\n    x: x - h + b,\n    y: y - b,\n    width: h,\n    height: w\n  };else if (r === 180) return {\n    x: x - w + b,\n    y: y - h + b,\n    width: w,\n    height: h\n  };else if (r === 270) return {\n    x: x - b,\n    y: y - w + b,\n    width: h,\n    height: w\n  };else return {\n    x: x - b,\n    y: y - b,\n    width: w,\n    height: h\n  };\n};","map":{"version":3,"sources":["../../src/api/rotations.ts"],"names":[],"mappings":"AAAA,SAAS,QAAT,EAAmB,KAAnB,QAA0B,UAA1B;AAEA,OAAA,IAAY,aAAZ;;AAAA,CAAA,UAAY,aAAZ,EAAyB;AACvB,EAAA,aAAA,CAAA,SAAA,CAAA,GAAA,SAAA;AACA,EAAA,aAAA,CAAA,SAAA,CAAA,GAAA,SAAA;AACD,CAHD,EAAY,aAAa,KAAb,aAAa,GAAA,EAAA,CAAzB;;AAiBA,OAAO,IAAM,OAAO,GAAG,UAAC,WAAD,EAAoB;AACzC,EAAA,QAAQ,CAAC,WAAD,EAAc,aAAd,EAA6B,CAAC,QAAD,CAA7B,CAAR;AACA,SAAO;AAAE,IAAA,IAAI,EAAE,aAAa,CAAC,OAAtB;AAA+B,IAAA,KAAK,EAAE;AAAtC,GAAP;AACD,CAHM;AAKP,OAAO,IAAM,OAAO,GAAG,UAAC,WAAD,EAAoB;AACzC,EAAA,QAAQ,CAAC,WAAD,EAAc,aAAd,EAA6B,CAAC,QAAD,CAA7B,CAAR;AACA,SAAO;AAAE,IAAA,IAAI,EAAE,aAAa,CAAC,OAAtB;AAA+B,IAAA,KAAK,EAAE;AAAtC,GAAP;AACD,CAHM;AAKC,IAAA,OAAO,GAAc,aAAa,CAA3B,OAAP;AAAA,IAAS,OAAO,GAAK,aAAa,CAAlB,OAAhB;AAER,OAAO,IAAM,gBAAgB,GAAG,UAAC,MAAD,EAAe;AAAK,SAAC,MAAM,GAAG,IAAI,CAAC,EAAf,GAAA,GAAA;AAAwB,CAArE;AACP,OAAO,IAAM,gBAAgB,GAAG,UAAC,MAAD,EAAe;AAAK,SAAC,MAAM,GAAG,GAAV,GAAiB,IAAI,CAArB,EAAA;AAAwB,CAArE,C,CAEP;;AACA,OAAO,IAAM,SAAS,GAAG,UAAC,QAAD,EAAmB;AACxC,SAAA,QAAQ,CAAC,IAAT,KAAkB,OAAlB,GAA4B,QAAQ,CAAC,KAArC,GACA,QAAQ,CAAC,IAAT,KAAkB,OAAlB,GAA4B,gBAAgB,CAAC,QAAQ,CAAC,KAAV,CAA5C,GACA,KAAK,CAAC,uBAAqB,IAAI,CAAC,SAAL,CAAe,QAAf,CAAtB,CAFL;AAEsD,CAHnD,C,CAKP;;AACA,OAAO,IAAM,SAAS,GAAG,UAAC,QAAD,EAAmB;AACxC,SAAA,QAAQ,CAAC,IAAT,KAAkB,OAAlB,GAA4B,gBAAgB,CAAC,QAAQ,CAAC,KAAV,CAA5C,GACA,QAAQ,CAAC,IAAT,KAAkB,OAAlB,GAA4B,QAAQ,CAAC,KAArC,GACA,KAAK,CAAC,uBAAqB,IAAI,CAAC,SAAL,CAAe,QAAf,CAAtB,CAFL;AAEsD,CAHnD;AAKP,OAAO,IAAM,cAAc,GAAG,UAAC,WAAD,EAAgB;AAAf,MAAA,WAAA,KAAA,KAAA,CAAA,EAAA;AAAA,IAAA,WAAA,GAAA,CAAA;AAAe;;AAC5C,MAAM,SAAS,GAAI,WAAW,GAAG,EAAf,GAAqB,CAAvC;AACA,MAAI,SAAS,KAAK,CAAlB,EAAqB,OAAO,CAAP;AACrB,MAAI,SAAS,KAAK,CAAlB,EAAqB,OAAO,EAAP;AACrB,MAAI,SAAS,KAAK,CAAlB,EAAqB,OAAO,GAAP;AACrB,MAAI,SAAS,KAAK,CAAlB,EAAqB,OAAO,GAAP;AACrB,SAAO,CAAP,CAN4C,CAMlC;AACX,CAPM;AASP,OAAO,IAAM,qBAAqB,GAAG,UACnC,IADmC,EAEnC,WAFmC,EAEpB;AAAf,MAAA,WAAA,KAAA,KAAA,CAAA,EAAA;AAAA,IAAA,WAAA,GAAA,CAAA;AAAe;;AAEf,MAAM,QAAQ,GAAG,cAAc,CAAC,WAAD,CAA/B;AACA,SAAO,QAAQ,KAAK,EAAb,IAAmB,QAAQ,KAAK,GAAhC,GACH;AAAE,IAAA,KAAK,EAAE,IAAI,CAAC,MAAd;AAAsB,IAAA,MAAM,EAAE,IAAI,CAAC;AAAnC,GADG,GAEH;AAAE,IAAA,KAAK,EAAE,IAAI,CAAC,KAAd;AAAqB,IAAA,MAAM,EAAE,IAAI,CAAC;AAAlC,GAFJ;AAGD,CARM;AAUP,OAAO,IAAM,eAAe,GAAG,UAC7B,SAD6B,EAO7B,WAP6B,EAQ7B,WAR6B,EAQd;AADf,MAAA,WAAA,KAAA,KAAA,CAAA,EAAA;AAAA,IAAA,WAAA,GAAA,CAAA;AAAe;;AACf,MAAA,WAAA,KAAA,KAAA,CAAA,EAAA;AAAA,IAAA,WAAA,GAAA,CAAA;AAAe;;AAEP,MAAA,CAAC,GAA6B,SAAS,CAAtC,CAAD;AAAA,MAAG,CAAC,GAA0B,SAAS,CAAnC,CAAJ;AAAA,MAAa,CAAC,GAAgB,SAAS,CAAzB,KAAd;AAAA,MAAwB,CAAC,GAAK,SAAS,CAAd,MAAzB;AAER,MAAM,CAAC,GAAG,cAAc,CAAC,WAAD,CAAxB;AACA,MAAM,CAAC,GAAG,WAAW,GAAG,CAAxB,CALe,CAOf;;AACA,MAAI,CAAC,KAAK,CAAV,EAAa,OAAO;AAAE,IAAA,CAAC,EAAE,CAAC,GAAG,CAAT;AAAY,IAAA,CAAC,EAAE,CAAC,GAAG,CAAnB;AAAsB,IAAA,KAAK,EAAE,CAA7B;AAAgC,IAAA,MAAM,EAAE;AAAxC,GAAP,CAAb,KACK,IAAI,CAAC,KAAK,EAAV,EAAc,OAAO;AAAE,IAAA,CAAC,EAAE,CAAC,GAAG,CAAJ,GAAQ,CAAb;AAAgB,IAAA,CAAC,EAAE,CAAC,GAAG,CAAvB;AAA0B,IAAA,KAAK,EAAE,CAAjC;AAAoC,IAAA,MAAM,EAAE;AAA5C,GAAP,CAAd,KACA,IAAI,CAAC,KAAK,GAAV,EAAe,OAAO;AAAE,IAAA,CAAC,EAAE,CAAC,GAAG,CAAJ,GAAQ,CAAb;AAAgB,IAAA,CAAC,EAAE,CAAC,GAAG,CAAJ,GAAQ,CAA3B;AAA8B,IAAA,KAAK,EAAE,CAArC;AAAwC,IAAA,MAAM,EAAE;AAAhD,GAAP,CAAf,KACA,IAAI,CAAC,KAAK,GAAV,EAAe,OAAO;AAAE,IAAA,CAAC,EAAE,CAAC,GAAG,CAAT;AAAY,IAAA,CAAC,EAAE,CAAC,GAAG,CAAJ,GAAQ,CAAvB;AAA0B,IAAA,KAAK,EAAE,CAAjC;AAAoC,IAAA,MAAM,EAAE;AAA5C,GAAP,CAAf,KACA,OAAO;AAAE,IAAA,CAAC,EAAE,CAAC,GAAG,CAAT;AAAY,IAAA,CAAC,EAAE,CAAC,GAAG,CAAnB;AAAsB,IAAA,KAAK,EAAE,CAA7B;AAAgC,IAAA,MAAM,EAAE;AAAxC,GAAP;AACN,CArBM","sourceRoot":"","sourcesContent":["import { assertIs, error } from \"../utils\";\r\nexport var RotationTypes;\r\n(function (RotationTypes) {\r\n    RotationTypes[\"Degrees\"] = \"degrees\";\r\n    RotationTypes[\"Radians\"] = \"radians\";\r\n})(RotationTypes || (RotationTypes = {}));\r\nexport var radians = function (radianAngle) {\r\n    assertIs(radianAngle, 'radianAngle', ['number']);\r\n    return { type: RotationTypes.Radians, angle: radianAngle };\r\n};\r\nexport var degrees = function (degreeAngle) {\r\n    assertIs(degreeAngle, 'degreeAngle', ['number']);\r\n    return { type: RotationTypes.Degrees, angle: degreeAngle };\r\n};\r\nvar Radians = RotationTypes.Radians, Degrees = RotationTypes.Degrees;\r\nexport var degreesToRadians = function (degree) { return (degree * Math.PI) / 180; };\r\nexport var radiansToDegrees = function (radian) { return (radian * 180) / Math.PI; };\r\n// prettier-ignore\r\nexport var toRadians = function (rotation) {\r\n    return rotation.type === Radians ? rotation.angle\r\n        : rotation.type === Degrees ? degreesToRadians(rotation.angle)\r\n            : error(\"Invalid rotation: \" + JSON.stringify(rotation));\r\n};\r\n// prettier-ignore\r\nexport var toDegrees = function (rotation) {\r\n    return rotation.type === Radians ? radiansToDegrees(rotation.angle)\r\n        : rotation.type === Degrees ? rotation.angle\r\n            : error(\"Invalid rotation: \" + JSON.stringify(rotation));\r\n};\r\nexport var reduceRotation = function (degreeAngle) {\r\n    if (degreeAngle === void 0) { degreeAngle = 0; }\r\n    var quadrants = (degreeAngle / 90) % 4;\r\n    if (quadrants === 0)\r\n        return 0;\r\n    if (quadrants === 1)\r\n        return 90;\r\n    if (quadrants === 2)\r\n        return 180;\r\n    if (quadrants === 3)\r\n        return 270;\r\n    return 0; // `degreeAngle` is not a multiple of 90\r\n};\r\nexport var adjustDimsForRotation = function (dims, degreeAngle) {\r\n    if (degreeAngle === void 0) { degreeAngle = 0; }\r\n    var rotation = reduceRotation(degreeAngle);\r\n    return rotation === 90 || rotation === 270\r\n        ? { width: dims.height, height: dims.width }\r\n        : { width: dims.width, height: dims.height };\r\n};\r\nexport var rotateRectangle = function (rectangle, borderWidth, degreeAngle) {\r\n    if (borderWidth === void 0) { borderWidth = 0; }\r\n    if (degreeAngle === void 0) { degreeAngle = 0; }\r\n    var x = rectangle.x, y = rectangle.y, w = rectangle.width, h = rectangle.height;\r\n    var r = reduceRotation(degreeAngle);\r\n    var b = borderWidth / 2;\r\n    // prettier-ignore\r\n    if (r === 0)\r\n        return { x: x - b, y: y - b, width: w, height: h };\r\n    else if (r === 90)\r\n        return { x: x - h + b, y: y - b, width: h, height: w };\r\n    else if (r === 180)\r\n        return { x: x - w + b, y: y - h + b, width: w, height: h };\r\n    else if (r === 270)\r\n        return { x: x - b, y: y - w + b, width: h, height: w };\r\n    else\r\n        return { x: x - b, y: y - b, width: w, height: h };\r\n};\r\n//# sourceMappingURL=rotations.js.map"]},"metadata":{},"sourceType":"module"}