{"ast":null,"code":"import PDFName from \"../objects/PDFName\";\nimport PDFNumber from \"../objects/PDFNumber\";\nimport PDFArray from \"../objects/PDFArray\";\nimport PDFHexString from \"../objects/PDFHexString\";\nimport PDFString from \"../objects/PDFString\";\n\nvar AppearanceCharacteristics =\n/** @class */\nfunction () {\n  function AppearanceCharacteristics(dict) {\n    this.dict = dict;\n  }\n\n  AppearanceCharacteristics.prototype.R = function () {\n    var R = this.dict.lookup(PDFName.of('R'));\n    if (R instanceof PDFNumber) return R;\n    return undefined;\n  };\n\n  AppearanceCharacteristics.prototype.BC = function () {\n    var BC = this.dict.lookup(PDFName.of('BC'));\n    if (BC instanceof PDFArray) return BC;\n    return undefined;\n  };\n\n  AppearanceCharacteristics.prototype.BG = function () {\n    var BG = this.dict.lookup(PDFName.of('BG'));\n    if (BG instanceof PDFArray) return BG;\n    return undefined;\n  };\n\n  AppearanceCharacteristics.prototype.CA = function () {\n    var CA = this.dict.lookup(PDFName.of('CA'));\n    if (CA instanceof PDFHexString || CA instanceof PDFString) return CA;\n    return undefined;\n  };\n\n  AppearanceCharacteristics.prototype.RC = function () {\n    var RC = this.dict.lookup(PDFName.of('RC'));\n    if (RC instanceof PDFHexString || RC instanceof PDFString) return RC;\n    return undefined;\n  };\n\n  AppearanceCharacteristics.prototype.AC = function () {\n    var AC = this.dict.lookup(PDFName.of('AC'));\n    if (AC instanceof PDFHexString || AC instanceof PDFString) return AC;\n    return undefined;\n  };\n\n  AppearanceCharacteristics.prototype.getRotation = function () {\n    var _a;\n\n    return (_a = this.R()) === null || _a === void 0 ? void 0 : _a.asNumber();\n  };\n\n  AppearanceCharacteristics.prototype.getBorderColor = function () {\n    var BC = this.BC();\n    if (!BC) return undefined;\n    var components = [];\n\n    for (var idx = 0, len = BC === null || BC === void 0 ? void 0 : BC.size(); idx < len; idx++) {\n      var component = BC.get(idx);\n      if (component instanceof PDFNumber) components.push(component.asNumber());\n    }\n\n    return components;\n  };\n\n  AppearanceCharacteristics.prototype.getBackgroundColor = function () {\n    var BG = this.BG();\n    if (!BG) return undefined;\n    var components = [];\n\n    for (var idx = 0, len = BG === null || BG === void 0 ? void 0 : BG.size(); idx < len; idx++) {\n      var component = BG.get(idx);\n      if (component instanceof PDFNumber) components.push(component.asNumber());\n    }\n\n    return components;\n  };\n\n  AppearanceCharacteristics.prototype.getCaptions = function () {\n    var CA = this.CA();\n    var RC = this.RC();\n    var AC = this.AC();\n    return {\n      normal: CA === null || CA === void 0 ? void 0 : CA.decodeText(),\n      rollover: RC === null || RC === void 0 ? void 0 : RC.decodeText(),\n      down: AC === null || AC === void 0 ? void 0 : AC.decodeText()\n    };\n  };\n\n  AppearanceCharacteristics.prototype.setRotation = function (rotation) {\n    var R = this.dict.context.obj(rotation);\n    this.dict.set(PDFName.of('R'), R);\n  };\n\n  AppearanceCharacteristics.prototype.setBorderColor = function (color) {\n    var BC = this.dict.context.obj(color);\n    this.dict.set(PDFName.of('BC'), BC);\n  };\n\n  AppearanceCharacteristics.prototype.setBackgroundColor = function (color) {\n    var BG = this.dict.context.obj(color);\n    this.dict.set(PDFName.of('BG'), BG);\n  };\n\n  AppearanceCharacteristics.prototype.setCaptions = function (captions) {\n    var CA = PDFHexString.fromText(captions.normal);\n    this.dict.set(PDFName.of('CA'), CA);\n\n    if (captions.rollover) {\n      var RC = PDFHexString.fromText(captions.rollover);\n      this.dict.set(PDFName.of('RC'), RC);\n    } else {\n      this.dict.delete(PDFName.of('RC'));\n    }\n\n    if (captions.down) {\n      var AC = PDFHexString.fromText(captions.down);\n      this.dict.set(PDFName.of('AC'), AC);\n    } else {\n      this.dict.delete(PDFName.of('AC'));\n    }\n  };\n\n  AppearanceCharacteristics.fromDict = function (dict) {\n    return new AppearanceCharacteristics(dict);\n  };\n\n  return AppearanceCharacteristics;\n}();\n\nexport default AppearanceCharacteristics;","map":{"version":3,"sources":["../../../src/core/annotation/AppearanceCharacteristics.ts"],"names":[],"mappings":"AACA,OAAO,OAAP,MAAc,oBAAd;AACA,OAAO,SAAP,MAAgB,sBAAhB;AACA,OAAO,QAAP,MAAe,qBAAf;AACA,OAAO,YAAP,MAAmB,yBAAnB;AACA,OAAO,SAAP,MAAgB,sBAAhB;;AAEA,IAAA,yBAAA;AAAA;AAAA,YAAA;AAME,WAAA,yBAAA,CAAsB,IAAtB,EAAmC;AACjC,SAAK,IAAL,GAAY,IAAZ;AACD;;AAED,EAAA,yBAAA,CAAA,SAAA,CAAA,CAAA,GAAA,YAAA;AACE,QAAM,CAAC,GAAG,KAAK,IAAL,CAAU,MAAV,CAAiB,OAAO,CAAC,EAAR,CAAW,GAAX,CAAjB,CAAV;AACA,QAAI,CAAC,YAAY,SAAjB,EAA4B,OAAO,CAAP;AAC5B,WAAO,SAAP;AACD,GAJD;;AAMA,EAAA,yBAAA,CAAA,SAAA,CAAA,EAAA,GAAA,YAAA;AACE,QAAM,EAAE,GAAG,KAAK,IAAL,CAAU,MAAV,CAAiB,OAAO,CAAC,EAAR,CAAW,IAAX,CAAjB,CAAX;AACA,QAAI,EAAE,YAAY,QAAlB,EAA4B,OAAO,EAAP;AAC5B,WAAO,SAAP;AACD,GAJD;;AAMA,EAAA,yBAAA,CAAA,SAAA,CAAA,EAAA,GAAA,YAAA;AACE,QAAM,EAAE,GAAG,KAAK,IAAL,CAAU,MAAV,CAAiB,OAAO,CAAC,EAAR,CAAW,IAAX,CAAjB,CAAX;AACA,QAAI,EAAE,YAAY,QAAlB,EAA4B,OAAO,EAAP;AAC5B,WAAO,SAAP;AACD,GAJD;;AAMA,EAAA,yBAAA,CAAA,SAAA,CAAA,EAAA,GAAA,YAAA;AACE,QAAM,EAAE,GAAG,KAAK,IAAL,CAAU,MAAV,CAAiB,OAAO,CAAC,EAAR,CAAW,IAAX,CAAjB,CAAX;AACA,QAAI,EAAE,YAAY,YAAd,IAA8B,EAAE,YAAY,SAAhD,EAA2D,OAAO,EAAP;AAC3D,WAAO,SAAP;AACD,GAJD;;AAMA,EAAA,yBAAA,CAAA,SAAA,CAAA,EAAA,GAAA,YAAA;AACE,QAAM,EAAE,GAAG,KAAK,IAAL,CAAU,MAAV,CAAiB,OAAO,CAAC,EAAR,CAAW,IAAX,CAAjB,CAAX;AACA,QAAI,EAAE,YAAY,YAAd,IAA8B,EAAE,YAAY,SAAhD,EAA2D,OAAO,EAAP;AAC3D,WAAO,SAAP;AACD,GAJD;;AAMA,EAAA,yBAAA,CAAA,SAAA,CAAA,EAAA,GAAA,YAAA;AACE,QAAM,EAAE,GAAG,KAAK,IAAL,CAAU,MAAV,CAAiB,OAAO,CAAC,EAAR,CAAW,IAAX,CAAjB,CAAX;AACA,QAAI,EAAE,YAAY,YAAd,IAA8B,EAAE,YAAY,SAAhD,EAA2D,OAAO,EAAP;AAC3D,WAAO,SAAP;AACD,GAJD;;AAMA,EAAA,yBAAA,CAAA,SAAA,CAAA,WAAA,GAAA,YAAA;;;AACE,WAAA,CAAA,EAAA,GAAO,KAAK,CAAL,EAAP,MAAe,IAAf,IAAe,EAAA,KAAA,KAAA,CAAf,GAAe,KAAA,CAAf,GAAe,EAAA,CAAE,QAAF,EAAf;AACD,GAFD;;AAIA,EAAA,yBAAA,CAAA,SAAA,CAAA,cAAA,GAAA,YAAA;AACE,QAAM,EAAE,GAAG,KAAK,EAAL,EAAX;AAEA,QAAI,CAAC,EAAL,EAAS,OAAO,SAAP;AAET,QAAM,UAAU,GAAa,EAA7B;;AACA,SAAK,IAAI,GAAG,GAAG,CAAV,EAAa,GAAG,GAAG,EAAE,KAAA,IAAF,IAAA,EAAE,KAAA,KAAA,CAAF,GAAE,KAAA,CAAF,GAAA,EAAE,CAAE,IAAJ,EAAxB,EAAoC,GAAG,GAAG,GAA1C,EAA+C,GAAG,EAAlD,EAAsD;AACpD,UAAM,SAAS,GAAG,EAAE,CAAC,GAAH,CAAO,GAAP,CAAlB;AACA,UAAI,SAAS,YAAY,SAAzB,EAAoC,UAAU,CAAC,IAAX,CAAgB,SAAS,CAAC,QAAV,EAAhB;AACrC;;AAED,WAAO,UAAP;AACD,GAZD;;AAcA,EAAA,yBAAA,CAAA,SAAA,CAAA,kBAAA,GAAA,YAAA;AACE,QAAM,EAAE,GAAG,KAAK,EAAL,EAAX;AAEA,QAAI,CAAC,EAAL,EAAS,OAAO,SAAP;AAET,QAAM,UAAU,GAAa,EAA7B;;AACA,SAAK,IAAI,GAAG,GAAG,CAAV,EAAa,GAAG,GAAG,EAAE,KAAA,IAAF,IAAA,EAAE,KAAA,KAAA,CAAF,GAAE,KAAA,CAAF,GAAA,EAAE,CAAE,IAAJ,EAAxB,EAAoC,GAAG,GAAG,GAA1C,EAA+C,GAAG,EAAlD,EAAsD;AACpD,UAAM,SAAS,GAAG,EAAE,CAAC,GAAH,CAAO,GAAP,CAAlB;AACA,UAAI,SAAS,YAAY,SAAzB,EAAoC,UAAU,CAAC,IAAX,CAAgB,SAAS,CAAC,QAAV,EAAhB;AACrC;;AAED,WAAO,UAAP;AACD,GAZD;;AAcA,EAAA,yBAAA,CAAA,SAAA,CAAA,WAAA,GAAA,YAAA;AACE,QAAM,EAAE,GAAG,KAAK,EAAL,EAAX;AACA,QAAM,EAAE,GAAG,KAAK,EAAL,EAAX;AACA,QAAM,EAAE,GAAG,KAAK,EAAL,EAAX;AAEA,WAAO;AACL,MAAA,MAAM,EAAE,EAAE,KAAA,IAAF,IAAA,EAAE,KAAA,KAAA,CAAF,GAAE,KAAA,CAAF,GAAA,EAAE,CAAE,UAAJ,EADH;AAEL,MAAA,QAAQ,EAAE,EAAE,KAAA,IAAF,IAAA,EAAE,KAAA,KAAA,CAAF,GAAE,KAAA,CAAF,GAAA,EAAE,CAAE,UAAJ,EAFL;AAGL,MAAA,IAAI,EAAE,EAAE,KAAA,IAAF,IAAA,EAAE,KAAA,KAAA,CAAF,GAAE,KAAA,CAAF,GAAA,EAAE,CAAE,UAAJ;AAHD,KAAP;AAKD,GAVD;;AAYA,EAAA,yBAAA,CAAA,SAAA,CAAA,WAAA,GAAA,UAAY,QAAZ,EAA4B;AAC1B,QAAM,CAAC,GAAG,KAAK,IAAL,CAAU,OAAV,CAAkB,GAAlB,CAAsB,QAAtB,CAAV;AACA,SAAK,IAAL,CAAU,GAAV,CAAc,OAAO,CAAC,EAAR,CAAW,GAAX,CAAd,EAA+B,CAA/B;AACD,GAHD;;AAKA,EAAA,yBAAA,CAAA,SAAA,CAAA,cAAA,GAAA,UAAe,KAAf,EAA8B;AAC5B,QAAM,EAAE,GAAG,KAAK,IAAL,CAAU,OAAV,CAAkB,GAAlB,CAAsB,KAAtB,CAAX;AACA,SAAK,IAAL,CAAU,GAAV,CAAc,OAAO,CAAC,EAAR,CAAW,IAAX,CAAd,EAAgC,EAAhC;AACD,GAHD;;AAKA,EAAA,yBAAA,CAAA,SAAA,CAAA,kBAAA,GAAA,UAAmB,KAAnB,EAAkC;AAChC,QAAM,EAAE,GAAG,KAAK,IAAL,CAAU,OAAV,CAAkB,GAAlB,CAAsB,KAAtB,CAAX;AACA,SAAK,IAAL,CAAU,GAAV,CAAc,OAAO,CAAC,EAAR,CAAW,IAAX,CAAd,EAAgC,EAAhC;AACD,GAHD;;AAKA,EAAA,yBAAA,CAAA,SAAA,CAAA,WAAA,GAAA,UAAY,QAAZ,EAA0E;AACxE,QAAM,EAAE,GAAG,YAAY,CAAC,QAAb,CAAsB,QAAQ,CAAC,MAA/B,CAAX;AACA,SAAK,IAAL,CAAU,GAAV,CAAc,OAAO,CAAC,EAAR,CAAW,IAAX,CAAd,EAAgC,EAAhC;;AAEA,QAAI,QAAQ,CAAC,QAAb,EAAuB;AACrB,UAAM,EAAE,GAAG,YAAY,CAAC,QAAb,CAAsB,QAAQ,CAAC,QAA/B,CAAX;AACA,WAAK,IAAL,CAAU,GAAV,CAAc,OAAO,CAAC,EAAR,CAAW,IAAX,CAAd,EAAgC,EAAhC;AACD,KAHD,MAGO;AACL,WAAK,IAAL,CAAU,MAAV,CAAiB,OAAO,CAAC,EAAR,CAAW,IAAX,CAAjB;AACD;;AAED,QAAI,QAAQ,CAAC,IAAb,EAAmB;AACjB,UAAM,EAAE,GAAG,YAAY,CAAC,QAAb,CAAsB,QAAQ,CAAC,IAA/B,CAAX;AACA,WAAK,IAAL,CAAU,GAAV,CAAc,OAAO,CAAC,EAAR,CAAW,IAAX,CAAd,EAAgC,EAAhC;AACD,KAHD,MAGO;AACL,WAAK,IAAL,CAAU,MAAV,CAAiB,OAAO,CAAC,EAAR,CAAW,IAAX,CAAjB;AACD;AACF,GAjBD;;AAtGO,EAAA,yBAAA,CAAA,QAAA,GAAW,UAAC,IAAD,EAAc;AAC9B,WAAA,IAAI,yBAAJ,CAA8B,IAA9B,CAAA;AAAmC,GAD9B;;AAwHT,SAAA,yBAAA;AAAC,CA3HD,EAAA;;AA6HA,eAAe,yBAAf","sourceRoot":"","sourcesContent":["import PDFName from \"../objects/PDFName\";\nimport PDFNumber from \"../objects/PDFNumber\";\nimport PDFArray from \"../objects/PDFArray\";\nimport PDFHexString from \"../objects/PDFHexString\";\nimport PDFString from \"../objects/PDFString\";\nvar AppearanceCharacteristics = /** @class */ (function () {\n    function AppearanceCharacteristics(dict) {\n        this.dict = dict;\n    }\n    AppearanceCharacteristics.prototype.R = function () {\n        var R = this.dict.lookup(PDFName.of('R'));\n        if (R instanceof PDFNumber)\n            return R;\n        return undefined;\n    };\n    AppearanceCharacteristics.prototype.BC = function () {\n        var BC = this.dict.lookup(PDFName.of('BC'));\n        if (BC instanceof PDFArray)\n            return BC;\n        return undefined;\n    };\n    AppearanceCharacteristics.prototype.BG = function () {\n        var BG = this.dict.lookup(PDFName.of('BG'));\n        if (BG instanceof PDFArray)\n            return BG;\n        return undefined;\n    };\n    AppearanceCharacteristics.prototype.CA = function () {\n        var CA = this.dict.lookup(PDFName.of('CA'));\n        if (CA instanceof PDFHexString || CA instanceof PDFString)\n            return CA;\n        return undefined;\n    };\n    AppearanceCharacteristics.prototype.RC = function () {\n        var RC = this.dict.lookup(PDFName.of('RC'));\n        if (RC instanceof PDFHexString || RC instanceof PDFString)\n            return RC;\n        return undefined;\n    };\n    AppearanceCharacteristics.prototype.AC = function () {\n        var AC = this.dict.lookup(PDFName.of('AC'));\n        if (AC instanceof PDFHexString || AC instanceof PDFString)\n            return AC;\n        return undefined;\n    };\n    AppearanceCharacteristics.prototype.getRotation = function () {\n        var _a;\n        return (_a = this.R()) === null || _a === void 0 ? void 0 : _a.asNumber();\n    };\n    AppearanceCharacteristics.prototype.getBorderColor = function () {\n        var BC = this.BC();\n        if (!BC)\n            return undefined;\n        var components = [];\n        for (var idx = 0, len = BC === null || BC === void 0 ? void 0 : BC.size(); idx < len; idx++) {\n            var component = BC.get(idx);\n            if (component instanceof PDFNumber)\n                components.push(component.asNumber());\n        }\n        return components;\n    };\n    AppearanceCharacteristics.prototype.getBackgroundColor = function () {\n        var BG = this.BG();\n        if (!BG)\n            return undefined;\n        var components = [];\n        for (var idx = 0, len = BG === null || BG === void 0 ? void 0 : BG.size(); idx < len; idx++) {\n            var component = BG.get(idx);\n            if (component instanceof PDFNumber)\n                components.push(component.asNumber());\n        }\n        return components;\n    };\n    AppearanceCharacteristics.prototype.getCaptions = function () {\n        var CA = this.CA();\n        var RC = this.RC();\n        var AC = this.AC();\n        return {\n            normal: CA === null || CA === void 0 ? void 0 : CA.decodeText(),\n            rollover: RC === null || RC === void 0 ? void 0 : RC.decodeText(),\n            down: AC === null || AC === void 0 ? void 0 : AC.decodeText(),\n        };\n    };\n    AppearanceCharacteristics.prototype.setRotation = function (rotation) {\n        var R = this.dict.context.obj(rotation);\n        this.dict.set(PDFName.of('R'), R);\n    };\n    AppearanceCharacteristics.prototype.setBorderColor = function (color) {\n        var BC = this.dict.context.obj(color);\n        this.dict.set(PDFName.of('BC'), BC);\n    };\n    AppearanceCharacteristics.prototype.setBackgroundColor = function (color) {\n        var BG = this.dict.context.obj(color);\n        this.dict.set(PDFName.of('BG'), BG);\n    };\n    AppearanceCharacteristics.prototype.setCaptions = function (captions) {\n        var CA = PDFHexString.fromText(captions.normal);\n        this.dict.set(PDFName.of('CA'), CA);\n        if (captions.rollover) {\n            var RC = PDFHexString.fromText(captions.rollover);\n            this.dict.set(PDFName.of('RC'), RC);\n        }\n        else {\n            this.dict.delete(PDFName.of('RC'));\n        }\n        if (captions.down) {\n            var AC = PDFHexString.fromText(captions.down);\n            this.dict.set(PDFName.of('AC'), AC);\n        }\n        else {\n            this.dict.delete(PDFName.of('AC'));\n        }\n    };\n    AppearanceCharacteristics.fromDict = function (dict) {\n        return new AppearanceCharacteristics(dict);\n    };\n    return AppearanceCharacteristics;\n}());\nexport default AppearanceCharacteristics;\n//# sourceMappingURL=AppearanceCharacteristics.js.map"]},"metadata":{},"sourceType":"module"}