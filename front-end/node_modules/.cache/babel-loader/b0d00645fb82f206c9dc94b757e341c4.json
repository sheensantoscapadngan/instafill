{"ast":null,"code":"import { __extends } from \"tslib\";\nimport pako from 'pako';\nimport { MethodNotImplementedError } from \"../errors\";\nimport PDFName from \"../objects/PDFName\";\nimport PDFStream from \"../objects/PDFStream\";\nimport { Cache } from \"../../utils\";\n\nvar PDFFlateStream =\n/** @class */\nfunction (_super) {\n  __extends(PDFFlateStream, _super);\n\n  function PDFFlateStream(dict, encode) {\n    var _this = _super.call(this, dict) || this;\n\n    _this.computeContents = function () {\n      var unencodedContents = _this.getUnencodedContents();\n\n      return _this.encode ? pako.deflate(unencodedContents) : unencodedContents;\n    };\n\n    _this.encode = encode;\n    if (encode) dict.set(PDFName.of('Filter'), PDFName.of('FlateDecode'));\n    _this.contentsCache = Cache.populatedBy(_this.computeContents);\n    return _this;\n  }\n\n  PDFFlateStream.prototype.getContents = function () {\n    return this.contentsCache.access();\n  };\n\n  PDFFlateStream.prototype.getContentsSize = function () {\n    return this.contentsCache.access().length;\n  };\n\n  PDFFlateStream.prototype.getUnencodedContents = function () {\n    throw new MethodNotImplementedError(this.constructor.name, 'getUnencodedContents');\n  };\n\n  return PDFFlateStream;\n}(PDFStream);\n\nexport default PDFFlateStream;","map":{"version":3,"sources":["../../../src/core/structures/PDFFlateStream.ts"],"names":[],"mappings":";AAAA,OAAO,IAAP,MAAiB,MAAjB;AAEA,SAAS,yBAAT,QAAoC,WAApC;AAEA,OAAO,OAAP,MAAc,oBAAd;AACA,OAAO,SAAP,MAAgB,sBAAhB;AACA,SAAS,KAAT,QAAgB,aAAhB;;AAEA,IAAA,cAAA;AAAA;AAAA,UAAA,MAAA,EAAA;AAA6B,EAAA,SAAA,CAAA,cAAA,EAAA,MAAA,CAAA;;AAI3B,WAAA,cAAA,CAAY,IAAZ,EAA2B,MAA3B,EAA0C;AAA1C,QAAA,KAAA,GACE,MAAA,CAAA,IAAA,CAAA,IAAA,EAAM,IAAN,KAAW,IADb;;AASA,IAAA,KAAA,CAAA,eAAA,GAAkB,YAAA;AAChB,UAAM,iBAAiB,GAAG,KAAI,CAAC,oBAAL,EAA1B;;AACA,aAAO,KAAI,CAAC,MAAL,GAAc,IAAI,CAAC,OAAL,CAAa,iBAAb,CAAd,GAAgD,iBAAvD;AACD,KAHD;;AANE,IAAA,KAAI,CAAC,MAAL,GAAc,MAAd;AAEA,QAAI,MAAJ,EAAY,IAAI,CAAC,GAAL,CAAS,OAAO,CAAC,EAAR,CAAW,QAAX,CAAT,EAA+B,OAAO,CAAC,EAAR,CAAW,aAAX,CAA/B;AACZ,IAAA,KAAI,CAAC,aAAL,GAAqB,KAAK,CAAC,WAAN,CAAkB,KAAI,CAAC,eAAvB,CAArB;;AACD;;AAOD,EAAA,cAAA,CAAA,SAAA,CAAA,WAAA,GAAA,YAAA;AACE,WAAO,KAAK,aAAL,CAAmB,MAAnB,EAAP;AACD,GAFD;;AAIA,EAAA,cAAA,CAAA,SAAA,CAAA,eAAA,GAAA,YAAA;AACE,WAAO,KAAK,aAAL,CAAmB,MAAnB,GAA4B,MAAnC;AACD,GAFD;;AAIA,EAAA,cAAA,CAAA,SAAA,CAAA,oBAAA,GAAA,YAAA;AACE,UAAM,IAAI,yBAAJ,CACJ,KAAK,WAAL,CAAiB,IADb,EAEJ,sBAFI,CAAN;AAID,GALD;;AAMF,SAAA,cAAA;AAAC,CAhCD,CAA6B,SAA7B,CAAA;;AAkCA,eAAe,cAAf","sourceRoot":"","sourcesContent":["import { __extends } from \"tslib\";\r\nimport pako from 'pako';\r\nimport { MethodNotImplementedError } from \"../errors\";\r\nimport PDFName from \"../objects/PDFName\";\r\nimport PDFStream from \"../objects/PDFStream\";\r\nimport { Cache } from \"../../utils\";\r\nvar PDFFlateStream = /** @class */ (function (_super) {\r\n    __extends(PDFFlateStream, _super);\r\n    function PDFFlateStream(dict, encode) {\r\n        var _this = _super.call(this, dict) || this;\r\n        _this.computeContents = function () {\r\n            var unencodedContents = _this.getUnencodedContents();\r\n            return _this.encode ? pako.deflate(unencodedContents) : unencodedContents;\r\n        };\r\n        _this.encode = encode;\r\n        if (encode)\r\n            dict.set(PDFName.of('Filter'), PDFName.of('FlateDecode'));\r\n        _this.contentsCache = Cache.populatedBy(_this.computeContents);\r\n        return _this;\r\n    }\r\n    PDFFlateStream.prototype.getContents = function () {\r\n        return this.contentsCache.access();\r\n    };\r\n    PDFFlateStream.prototype.getContentsSize = function () {\r\n        return this.contentsCache.access().length;\r\n    };\r\n    PDFFlateStream.prototype.getUnencodedContents = function () {\r\n        throw new MethodNotImplementedError(this.constructor.name, 'getUnencodedContents');\r\n    };\r\n    return PDFFlateStream;\r\n}(PDFStream));\r\nexport default PDFFlateStream;\r\n//# sourceMappingURL=PDFFlateStream.js.map"]},"metadata":{},"sourceType":"module"}